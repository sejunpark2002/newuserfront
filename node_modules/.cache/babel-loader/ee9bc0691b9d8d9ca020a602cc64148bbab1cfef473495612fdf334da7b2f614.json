{"ast":null,"code":"var _s = $RefreshSig$();\nimport React from 'react';\nimport { storage } from '../firebase.config';\nimport { ref, uploadBytes, getDownloadURL, listAll, deleteObject } from 'firebase/storage';\nimport { useAppDispatch, useAppSelector } from '../store';\nimport { createUserAction } from '../redux/userAction';\nimport { getUserAPI } from '../api/getUserApi';\nconst deleteUserAPI = async id => {\n  const res = await fetch(`${process.env.REACT_APP_API_ADDRESS_DEV}?id=${id}`, {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  return await res.json();\n};\nconst deleteImageInStorage = async imgpath => {\n  const imageRef = ref(storage, imgpath);\n  const result = await deleteObject(imageRef);\n  console.log(result);\n};\nconst deleteUser = async ({\n  id,\n  imagePath\n}) => {\n  _s();\n  const dispatch = useAppDispatch();\n  await deleteImageInStorage(imagePath);\n  const res = await deleteUserAPI(id);\n  const result = await getUserAPI();\n  dispatch(createUserAction(result));\n  console.log(id);\n  console.log(imagePath);\n};\n_s(deleteUser, \"BJQ1DUn/XFEl2NsQ3DWyHAXfnkY=\", false, function () {\n  return [useAppDispatch];\n});\nexport default deleteUser;","map":{"version":3,"names":["React","storage","ref","uploadBytes","getDownloadURL","listAll","deleteObject","useAppDispatch","useAppSelector","createUserAction","getUserAPI","deleteUserAPI","id","res","fetch","process","env","REACT_APP_API_ADDRESS_DEV","method","headers","json","deleteImageInStorage","imgpath","imageRef","result","console","log","deleteUser","imagePath","_s","dispatch"],"sources":["/Users/sejunpark/Lesson/newusermanagement/src/components/DeleteUser.js"],"sourcesContent":["import React from 'react'\nimport { storage } from '../firebase.config'\nimport { ref, uploadBytes, getDownloadURL, listAll, deleteObject } from 'firebase/storage'\nimport {useAppDispatch,useAppSelector} from '../store';\nimport {createUserAction} from '../redux/userAction'\nimport { getUserAPI } from '../api/getUserApi';\n\nconst deleteUserAPI = async (id) => {\n  const res= await fetch ( `${process.env.REACT_APP_API_ADDRESS_DEV}?id=${id}`, {\n   method:'DELETE',\n   headers:  {\n     'Content-Type': 'application/json',\n   }\n  })\n  return await res.json();\n }\n \n const deleteImageInStorage = async (imgpath)=> {\n   const imageRef = ref(storage, imgpath)\n   const result = await deleteObject(imageRef)\n   console.log(result)\n }\n \n const deleteUser = async ({id, imagePath }) => {\n  const dispatch = useAppDispatch()\n   await deleteImageInStorage(imagePath);\n\n   const res = await deleteUserAPI(id);\n   const result = await getUserAPI();\n   dispatch(createUserAction(result))\n  console.log(id)\n  console.log(imagePath)\n  }\n \n export default deleteUser\n\n\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,GAAG,EAAEC,WAAW,EAAEC,cAAc,EAAEC,OAAO,EAAEC,YAAY,QAAQ,kBAAkB;AAC1F,SAAQC,cAAc,EAACC,cAAc,QAAO,UAAU;AACtD,SAAQC,gBAAgB,QAAO,qBAAqB;AACpD,SAASC,UAAU,QAAQ,mBAAmB;AAE9C,MAAMC,aAAa,GAAG,MAAOC,EAAE,IAAK;EAClC,MAAMC,GAAG,GAAE,MAAMC,KAAK,CAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,yBAAyB,OAAOL,EAAE,EAAE,EAAE;IAC7EM,MAAM,EAAC,QAAQ;IACfC,OAAO,EAAG;MACR,cAAc,EAAE;IAClB;EACD,CAAC,CAAC;EACF,OAAO,MAAMN,GAAG,CAACO,IAAI,CAAC,CAAC;AACxB,CAAC;AAED,MAAMC,oBAAoB,GAAG,MAAOC,OAAO,IAAI;EAC7C,MAAMC,QAAQ,GAAGrB,GAAG,CAACD,OAAO,EAAEqB,OAAO,CAAC;EACtC,MAAME,MAAM,GAAG,MAAMlB,YAAY,CAACiB,QAAQ,CAAC;EAC3CE,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;AACrB,CAAC;AAED,MAAMG,UAAU,GAAG,MAAAA,CAAO;EAACf,EAAE;EAAEgB;AAAU,CAAC,KAAK;EAAAC,EAAA;EAC9C,MAAMC,QAAQ,GAAGvB,cAAc,CAAC,CAAC;EAChC,MAAMc,oBAAoB,CAACO,SAAS,CAAC;EAErC,MAAMf,GAAG,GAAG,MAAMF,aAAa,CAACC,EAAE,CAAC;EACnC,MAAMY,MAAM,GAAG,MAAMd,UAAU,CAAC,CAAC;EACjCoB,QAAQ,CAACrB,gBAAgB,CAACe,MAAM,CAAC,CAAC;EACnCC,OAAO,CAACC,GAAG,CAACd,EAAE,CAAC;EACfa,OAAO,CAACC,GAAG,CAACE,SAAS,CAAC;AACtB,CAAC;AAAAC,EAAA,CATIF,UAAU;EAAA,QACEpB,cAAc;AAAA;AAUhC,eAAeoB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}