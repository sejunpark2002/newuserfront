{"ast":null,"code":"var _jsxFileName = \"/Users/sejunpark/Lesson/newusermanagement/src/components/DeleteUser.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { storage } from '../firebase.config';\nimport { ref, uploadBytes, getDownloadURL, listAll, deleteObject } from 'firebase/storage';\nimport { createUserAction } from '../redux/userAction';\nimport { getUserAPI } from '../api/getUserApi';\nimport IconButton from '@mui/material/IconButton';\nimport DeleteOutlineOutlinedIcon from '@mui/icons-material/DeleteOutlineOutlined';\nimport { useAppDispatch, useAppSelector } from '../store';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DeleteUser = ({\n  selecteduser\n}) => {\n  _s();\n  const dispatch = useAppDispatch();\n  const deleteUserAPI = async id => {\n    const res = await fetch(`${process.env.REACT_APP_API_ADDRESS_DEV}?id=${id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    return await res.json();\n  };\n  const deleteImageInStorage = async imgpath => {\n    const imageRef = ref(storage, imgpath);\n    const result = await deleteObject(imageRef);\n    console.log(result);\n  };\n  const deleteUser = async ({\n    id,\n    imagePath\n  }) => {\n    await deleteImageInStorage(imagePath);\n    const res = await deleteUserAPI(id);\n    const result = await getUserAPI();\n    dispatch(createUserAction(result));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(IconButton, {\n      onClick: () => deleteUser(selecteduser),\n      sx: {\n        padding: \"0\"\n      },\n      children: /*#__PURE__*/_jsxDEV(DeleteOutlineOutlinedIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 78\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 8\n    }, this)\n  }, void 0, false);\n};\n_s(DeleteUser, \"BJQ1DUn/XFEl2NsQ3DWyHAXfnkY=\", false, function () {\n  return [useAppDispatch];\n});\n_c = DeleteUser;\nexport default DeleteUser;\nvar _c;\n$RefreshReg$(_c, \"DeleteUser\");","map":{"version":3,"names":["React","storage","ref","uploadBytes","getDownloadURL","listAll","deleteObject","createUserAction","getUserAPI","IconButton","DeleteOutlineOutlinedIcon","useAppDispatch","useAppSelector","jsxDEV","_jsxDEV","Fragment","_Fragment","DeleteUser","selecteduser","_s","dispatch","deleteUserAPI","id","res","fetch","process","env","REACT_APP_API_ADDRESS_DEV","method","headers","json","deleteImageInStorage","imgpath","imageRef","result","console","log","deleteUser","imagePath","children","onClick","sx","padding","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/sejunpark/Lesson/newusermanagement/src/components/DeleteUser.jsx"],"sourcesContent":["import React from 'react'\nimport { storage } from '../firebase.config'\nimport { ref, uploadBytes, getDownloadURL, listAll, deleteObject } from 'firebase/storage'\nimport {createUserAction} from '../redux/userAction'\nimport { getUserAPI } from '../api/getUserApi';\nimport IconButton from '@mui/material/IconButton';\nimport DeleteOutlineOutlinedIcon from '@mui/icons-material/DeleteOutlineOutlined';\nimport {useAppDispatch,useAppSelector} from '../store'\n\nconst DeleteUser = ({selecteduser}) => {\n  const dispatch = useAppDispatch();\n  \n  const deleteUserAPI = async (id) => {\n    const res= await fetch ( `${process.env.REACT_APP_API_ADDRESS_DEV}?id=${id}`, {\n     method:'DELETE',\n     headers:  {\n       'Content-Type': 'application/json',\n     }\n    })\n    return await res.json();\n   }\n   \n   const deleteImageInStorage = async (imgpath)=> {\n     const imageRef = ref(storage, imgpath)\n     const result = await deleteObject(imageRef)\n     console.log(result)\n   }\n   \n   const deleteUser = async ({id, imagePath}) => {\n   \n     await deleteImageInStorage(imagePath);\n   \n     const res = await deleteUserAPI(id);\n     const result = await getUserAPI();\n     dispatch(createUserAction(result))\n    }\n\n  return (\n    <>\n       <IconButton onClick={()=>deleteUser(selecteduser)} sx={{padding:\"0\"}}><DeleteOutlineOutlinedIcon/></IconButton>\n    </>\n  )\n}\n\nexport default DeleteUser"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,GAAG,EAAEC,WAAW,EAAEC,cAAc,EAAEC,OAAO,EAAEC,YAAY,QAAQ,kBAAkB;AAC1F,SAAQC,gBAAgB,QAAO,qBAAqB;AACpD,SAASC,UAAU,QAAQ,mBAAmB;AAC9C,OAAOC,UAAU,MAAM,0BAA0B;AACjD,OAAOC,yBAAyB,MAAM,2CAA2C;AACjF,SAAQC,cAAc,EAACC,cAAc,QAAO,UAAU;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEtD,MAAMC,UAAU,GAAGA,CAAC;EAACC;AAAY,CAAC,KAAK;EAAAC,EAAA;EACrC,MAAMC,QAAQ,GAAGT,cAAc,CAAC,CAAC;EAEjC,MAAMU,aAAa,GAAG,MAAOC,EAAE,IAAK;IAClC,MAAMC,GAAG,GAAE,MAAMC,KAAK,CAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,yBAAyB,OAAOL,EAAE,EAAE,EAAE;MAC7EM,MAAM,EAAC,QAAQ;MACfC,OAAO,EAAG;QACR,cAAc,EAAE;MAClB;IACD,CAAC,CAAC;IACF,OAAO,MAAMN,GAAG,CAACO,IAAI,CAAC,CAAC;EACxB,CAAC;EAED,MAAMC,oBAAoB,GAAG,MAAOC,OAAO,IAAI;IAC7C,MAAMC,QAAQ,GAAG/B,GAAG,CAACD,OAAO,EAAE+B,OAAO,CAAC;IACtC,MAAME,MAAM,GAAG,MAAM5B,YAAY,CAAC2B,QAAQ,CAAC;IAC3CE,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;EACrB,CAAC;EAED,MAAMG,UAAU,GAAG,MAAAA,CAAO;IAACf,EAAE;IAAEgB;EAAS,CAAC,KAAK;IAE5C,MAAMP,oBAAoB,CAACO,SAAS,CAAC;IAErC,MAAMf,GAAG,GAAG,MAAMF,aAAa,CAACC,EAAE,CAAC;IACnC,MAAMY,MAAM,GAAG,MAAM1B,UAAU,CAAC,CAAC;IACjCY,QAAQ,CAACb,gBAAgB,CAAC2B,MAAM,CAAC,CAAC;EACnC,CAAC;EAEH,oBACEpB,OAAA,CAAAE,SAAA;IAAAuB,QAAA,eACGzB,OAAA,CAACL,UAAU;MAAC+B,OAAO,EAAEA,CAAA,KAAIH,UAAU,CAACnB,YAAY,CAAE;MAACuB,EAAE,EAAE;QAACC,OAAO,EAAC;MAAG,CAAE;MAAAH,QAAA,eAACzB,OAAA,CAACJ,yBAAyB;QAAAiC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY;EAAC,gBAChH,CAAC;AAEP,CAAC;AAAA3B,EAAA,CAjCKF,UAAU;EAAA,QACGN,cAAc;AAAA;AAAAoC,EAAA,GAD3B9B,UAAU;AAmChB,eAAeA,UAAU;AAAA,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}